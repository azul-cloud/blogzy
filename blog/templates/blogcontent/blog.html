{% extends "bloginclude/base.html" %}
{% load pagination_tags %}
{% load static from staticfiles %}

{% block title %}
  {{ personalblog }} | Travel Blog
{% endblock %}

{% block javascript %}
  {{ block.super }}
  <script src="{% static 'js/remove_bottom_padding.js' %}"></script>
{% endblock %}

{% block main %}
  {% autopaginate posts 7 %}
  <div id="map-side" class="col-md-8">
    <div id="blog-header-row" class="jumbotron row">
      <div class="text-center">
        <h1>
          {{ object.title }}
        </h1>
      </div>
    </div>
    <div class="col-sm-offset-1 col-sm-10">
      <div class="row row-padding">
        <div class="text-center btn btn-primary btn-block" data-toggle="modal" data-target="#blog-info-modal">About {{object}}</div>
      </div>
      <div class="row well">
        {% for thumbnail_post in posts %}
          {% if forloop.first or forloop.counter|divisibleby:"2" %}
            <div class="row">
          {% endif %}
            {% if forloop.first %}
              <div class="col-sm-12">
            {% else %}
              <div class="col-sm-6">
            {% endif %}
            {% include "bloginclude/thumbnail_post.html" %}
            </div>
          {% if forloop.last or forloop.counter0|divisibleby:"2" %}
            </div>
          {% endif %}
        {% endfor %}
        <div class="text-center">
          {% paginate %}
        </div>
        {% if request.user.is_authenticated %}
          {% with blog as b %}
            <div class="text-center">
              {% include 'bloginclude/wave_modify.html' %}
            </div>
          {% endwith %}
        {% endif %}
      </div>
    </div>
  </div>
  <div id="map-container" class="hidden-xs col-sm-4 no-gutter">
    {% with posts as post_list %}
      {% include "bloginclude/blog_map.html" %}
    {% endwith %}
    <div id="map-canvas"></div>
  </div>
  {% include "bloginclude/modals/blog_info.html" %}
{% endblock %}

{% block footer %}{% endblock %}
